<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Fingerprinter (Buck)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Fingerprinter (Buck)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/facebook/buck/parser/cache/impl/CachingProjectBuildFileParserDecorator.html" title="class in com.facebook.buck.parser.cache.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/facebook/buck/parser/cache/impl/HybridCacheStorage.html" title="class in com.facebook.buck.parser.cache.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/facebook/buck/parser/cache/impl/Fingerprinter.html" target="_top">Frames</a></li>
<li><a href="Fingerprinter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.buck.parser.cache.impl</div>
<h2 title="Class Fingerprinter" class="title">Class Fingerprinter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.facebook.buck.parser.cache.impl.Fingerprinter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Fingerprinter</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class implements functionality to get the weak fingerprint and strong fingerprint hashes for
 caching parser result - <a href="../../../../../../com/facebook/buck/parser/api/BuildFileManifest.html" title="class in com.facebook.buck.parser.api"><code>BuildFileManifest</code></a>.

 <p>Note: The Fingerprinter object provides fingerprints for the two-level cache used to identify
 the relevant <a href="../../../../../../com/facebook/buck/parser/api/BuildFileManifest.html" title="class in com.facebook.buck.parser.api"><code>BuildFileManifest</code></a> objects in the cache. The
 first level cache is provided by the so called weak fingerprint. The weak fingerprint encodes
 some common configuration/environments used by the build file parser, and the name of the file
 that is associated with the cell currently being built. The weak fingerprint maps to a set of
 strong fingerprints that are relevant. Examples of entries that are currently included into a
 weak fingerprint are the buck configuration environment, the name of the build file associated
 with the cell object being built, platform and architecture for which the build is performed.

 <p>The strong fingerprint is used to narrow a specific version of the pre-parsed serialized
 objects - it adds another level of lookup rules that point to a specific match of the current
 build files states, from a set that use the same weak fingerprints. Currently the strong
 fingerprint includes the content hashes of all the loaded build files during the parsing of the
 build spec of interest.

 <p>Splitting the lookup into two phases reduces the data that needs to be transferred locally
 since only the entries that match the weak and strong fingerprint could be relevant. More
 importantly, it reduces the amount of glob operations that need to be performed to validate the
 use of the cached <a href="../../../../../../com/facebook/buck/parser/api/BuildFileManifest.html" title="class in com.facebook.buck.parser.api"><code>BuildFileManifest</code></a> - only the globs for the
 potential match, both weak and strong fingerprints are performed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static com.google.common.hash.HashCode</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/parser/cache/impl/Fingerprinter.html#getStrongFingerprint-com.facebook.buck.io.filesystem.ProjectFilesystem-com.google.common.collect.ImmutableSortedSet-com.facebook.buck.util.cache.FileHashCache-">getStrongFingerprint</a></span>(<a href="../../../../../../com/facebook/buck/io/filesystem/ProjectFilesystem.html" title="interface in com.facebook.buck.io.filesystem">ProjectFilesystem</a>&nbsp;fs,
                    com.google.common.collect.ImmutableSortedSet&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;includes,
                    <a href="../../../../../../com/facebook/buck/util/cache/FileHashCache.html" title="interface in com.facebook.buck.util.cache">FileHashCache</a>&nbsp;fileHashCache)</code>
<div class="block">Calculates a strong fingerprint.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static com.google.common.hash.HashCode</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/facebook/buck/parser/cache/impl/Fingerprinter.html#getWeakFingerprint-java.nio.file.Path-com.facebook.buck.util.config.Config-">getWeakFingerprint</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html?is-external=true" title="class or interface in java.nio.file">Path</a>&nbsp;buildFile,
                  <a href="../../../../../../com/facebook/buck/util/config/Config.html" title="class in com.facebook.buck.util.config">Config</a>&nbsp;config)</code>
<div class="block">Gets the weak fingerprint for this configuration.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWeakFingerprint-java.nio.file.Path-com.facebook.buck.util.config.Config-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWeakFingerprint</h4>
<pre>public static&nbsp;com.google.common.hash.HashCode&nbsp;getWeakFingerprint(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html?is-external=true" title="class or interface in java.nio.file">Path</a>&nbsp;buildFile,
                                                                 <a href="../../../../../../com/facebook/buck/util/config/Config.html" title="class in com.facebook.buck.util.config">Config</a>&nbsp;config)</pre>
<div class="block">Gets the weak fingerprint for this configuration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buildFile</code> - the path to the BUCK file build spec of interest.</dd>
<dd><code>config</code> - the <a href="../../../../../../com/facebook/buck/util/config/Config.html" title="class in com.facebook.buck.util.config"><code>Config</code></a> object to calculate the weak fingerprint for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a weak fingerprint - <code>HashCode</code> that represent a unique
     hash value.</dd>
</dl>
</li>
</ul>
<a name="getStrongFingerprint-com.facebook.buck.io.filesystem.ProjectFilesystem-com.google.common.collect.ImmutableSortedSet-com.facebook.buck.util.cache.FileHashCache-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getStrongFingerprint</h4>
<pre>public static&nbsp;com.google.common.hash.HashCode&nbsp;getStrongFingerprint(<a href="../../../../../../com/facebook/buck/io/filesystem/ProjectFilesystem.html" title="interface in com.facebook.buck.io.filesystem">ProjectFilesystem</a>&nbsp;fs,
                                                                   com.google.common.collect.ImmutableSortedSet&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;includes,
                                                                   <a href="../../../../../../com/facebook/buck/util/cache/FileHashCache.html" title="interface in com.facebook.buck.util.cache">FileHashCache</a>&nbsp;fileHashCache)
                                                            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calculates a strong fingerprint.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fs</code> - the <a href="../../../../../../com/facebook/buck/io/filesystem/ProjectFilesystem.html" title="interface in com.facebook.buck.io.filesystem"><code>ProjectFilesystem</code></a> that we use to calculate the strong fingerprint.</dd>
<dd><code>includes</code> - the list of included build files for which we calculate the strong fingerprint.</dd>
<dd><code>fileHashCache</code> - the <a href="../../../../../../com/facebook/buck/util/cache/FileHashCache.html" title="interface in com.facebook.buck.util.cache"><code>FileHashCache</code></a> object to use to get the content hash of the
     loaded files.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a strong fingerprint - <code>HashCode</code> that represent a unique hash value.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - can throw if there is a problem getting the content of the main BUCK build
     spec or an included file.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/facebook/buck/parser/cache/impl/CachingProjectBuildFileParserDecorator.html" title="class in com.facebook.buck.parser.cache.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/facebook/buck/parser/cache/impl/HybridCacheStorage.html" title="class in com.facebook.buck.parser.cache.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/facebook/buck/parser/cache/impl/Fingerprinter.html" target="_top">Frames</a></li>
<li><a href="Fingerprinter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
